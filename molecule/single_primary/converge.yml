---
- name: Converge
  hosts: all
  any_errors_fatal: yes
  tasks:
    - name: MySQL
      ansible.builtin.import_role:
        name: mysql
      vars:
        # mysql_privoder: greatsql
        # mysql_version: 8.0.32-24
        # mysql_shell_version: 8.0.25-16
        mysql_group_replication_single_primary_mode: true
        # ieng8Taibonga6dair0j
        mysql_root_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          37386361386337623864643832656331643331376538616630333731376361646230386635666132
          3466316230653634666164633761396633633535643536370a356631373634303666346663663235
          66326138613236343736663038616235656639353933303934333939323265306466646339666333
          6465363639333066610a623234336264643639616630613037313231353063363037323364303466
          34636531303033623938656632626333346663316632623062346664303437323534
        # Ad5sa7aer7eiN3goo2be
        mysql_repl_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          32336263343466356137366464613731646435383335663364313436373263346138353363316136
          3136636236356666663538363661623531336564356531390a393735333536323663356136313434
          62343563356364636634616638323065376131303939666331353463336537613136353463356365
          3930313737343065660a373039666438306432313432646533376337373136373262633630336634
          37373435316239633735653264623833383664626430636263363736303538613465
        mysql_innodb_cluster_enable: true
        mysql_innodb_cluster_username: ic
        # ced6raboVa_nae0wu5pa
        mysql_innodb_cluster_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          30393635626137303330636566316531376338663737393333643263353036663266653932353935
          6564623330393863356164323334663431653535613238630a393339356436646539356664336535
          64326561353936316635393230336537313835343762326562666331343861303661326166366237
          3864656637393335620a616432303465313630643766333661343538356535393830613463373034
          63366566306239386134393765623665393936316134306365363133666566353431
        mysql_group_replication_name: cdbdc06c-2023-4d20-9821-272f160ef4f6
        mysql_proxysql_config: true
        mysql_proxysql_monitor_username: monitor
        mysql_proxysql_monitor_password: bive3ekoo6Oov1ayo-th
        mysql_databases:
          - name: db1
        mysql_users:
          - name: user1
            password: Ang4eij~aiSh4lu4tho5
            priv: 'db1.*:ALL'
          - name: user_tls
            password: 'chau~ruuw7Eebeel0ooN'
            priv: 'db1.*:ALL'
            tls_requires:
              ssl:
